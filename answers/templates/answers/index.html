{% extends "answers/base.html" %}

{% block content%}

    {% if search %}
    {% if search.words %}
    <div class="row">
        <h2>Search result</h2>
    </div>
{#    <div class="row">search: {% for word in search.words %}{{ word  }} {% endfor %}</div>#}
    {% elif search.tags %}
    <h2>Tag result</h2>
{#    <div class="row">Tag: {% for tag in search.tags %}{{ tag }} {% endfor %}</div>#}
    {% endif %}

        {% if not questions %}<div class="alert alert-warning">Not found</div>{% endif %}
    {% endif %}


    {% for question in questions %}


    <div class="row">
        <div class="col-sm-2">
            {{ question.rating }}<br/>
            Votes
        </div>
        <div class="col-sm-2">
            {{ question.answers_count }}<br/>
            Answers
        </div>

        <div class="col-lg-4">
            <div class="row"><a href="/question/{{ question.pk }}">{{ question.title }}</a></div>
            <div class="row">{{ question.create_date }}</div>
            <div class="row">{% for tag in question.tags.all %} <a href="{% url 'tag_result' tag.name %}" class="btn btn-info btn-sm" role="button">{{ tag.name }}</a>&nbsp;{% endfor %}</div>
        </div>
        <div class="col-lg-4">
            <div class="row"><a href="{% url 'view_user' question.author.pk %}">{{ question.author.username }}</a></div>
        </div>
    </div>



    {% endfor %}

    <div class="row align-content-center">
    <nav>
        <ul class="pagination">
            {% if questions.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{ questions.previous_page_number }}">Previous</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            {% endif %}
            {% for page_num in questions.paginator.page_range  %}
                {% if questions.number == page_num %}
                    <li class="page-item active"><span class="page-link">{{ page_num }}<span class="sr-only">(current)</span></span></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a></li>
                {% endif %}
            {% endfor %}

            {% if questions.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ questions.next_page_number }}">Next</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% endif %}
        </ul>
    </nav>
    </div>
{% endblock %}